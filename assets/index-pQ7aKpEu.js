(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();const g=(e,t)=>{t&&e&&localStorage.setItem(e,JSON.stringify(t))},h=e=>!!localStorage.getItem(e),k=e=>{h(e)&&localStorage.removeItem(e)},y=e=>localStorage.getItem(e),T=e=>{let t=y(e);return t?JSON.parse(t):null};let o=T("tasks")??[];const b=e=>{const t={id:Date.now(),text:e,done:!1};o.push(t),g("tasks",o)},v=e=>{o=o.filter(t=>t.id!==Number(e)),g("tasks",o)},L=e=>{const t=o.findIndex(a=>a.id===Number(e));o[t].done=!o[t].done,g("tasks",o)},c={task(e,t){e.innerHTML+=`
          <li id="${t.id}" class="task">
          <span class="${t.done?"done":"task-title"}">${t.text}</span>
            <div class="task-btn">
              <button class="task-done btn" data-action="done" data-id=${t.id}>Готово</button>
              <button class="task-remove btn" data-action="delete" data-id=${t.id}>Удлить</button>
            </div>
          </li>
          `},allTasks(e,t){e.innerHTML="",t==null||t.forEach(a=>{c.task(e,a)})}},r=document.querySelector(".task-container"),S=document.querySelector(".form"),m=document.querySelector(".input-task"),p=document.querySelector(".out-container_pending"),O=document.querySelector(".btn-remove__all"),i=document.querySelector(".out-caunter"),d=()=>{r.children.length<=0?p.classList.remove("hidden"):p.classList.add("hidden")};c.allTasks(r,o);d();u(i);S.addEventListener("submit",function(e){e.preventDefault(),b(m.value),c.allTasks(r,o),m.focus(),m.value="",u(i),d()});r.addEventListener("click",$);r.addEventListener("click",q);function $(e){e.target.dataset.action==="delete"&&(v(e.target.dataset.id),c.allTasks(r,o),d())}function q(e){e.target.dataset.action==="done"&&(L(e.target.dataset.id),c.allTasks(r,o)),u(i)}O.addEventListener("click",()=>{k("tasks"),o.length=0,c.allTasks(r,o),d(),u(i)});function u(e){const a=o.filter(n=>n.done===!0).length,l=o.length;e.innerHTML=`<h3>Выполненно ${a} задачи, не выполенно ${l}</h3>`}
